
# Flask Lockers Booking System

Это веб-приложение на Flask для бронирования ячеек хранения. Пользователи могут зарегистрироваться, войти в личный кабинет, бронировать ячейки на определённое время, отменять бронирования и оплачивать их.

## Основной функционал

- Регистрация и вход пользователей
- Просмотр доступных ячеек
- Бронирование ячеек на выбранный временной промежуток
- Разделение бронирований на:
  - текущие
  - будущие
  - прошедшие
- Автоматическое освобождение ячеек по завершении брони
- Возможность отмены бронирования
- Отображение только реально доступных ячеек
- Отметка об оплате (кнопка "Оплатить")

## Особенности

- Используется SQLite как база данных
- Валидация времени бронирования: время окончания должно быть позже начала
- Защита всех действий через авторизацию `@login_required`
- Динамическое определение доступности ячеек по активным бронированиям
- Удаление некорректных бронирований (с `start_time >= end_time`)
- Отображение статуса каждой ячейки на `/lockers`

## Структура проекта

```
project/
│
├── app.py               # основной Flask-приложение
├── models.py            # модели SQLAlchemy: User, Locker, Booking
├── forms.py             # формы для регистрации, входа и бронирования
├── templates/           # HTML-шаблоны
│   ├── login.html
│   ├── register.html
│   ├── book.html
│   └── profile.html
├── static/              # стили
├── boxes.db             # база данных SQLite
└── README.md
```

## Используемые технологии

- Flask
- Flask-Login
- Flask-WTF
- SQLite
- HTML + Jinja2
- Bootstrap (опционально)

## Запуск проекта

1. Установите зависимости:
```bash
pip install -r requirements.txt
```

2. Запустите приложение:
```bash
python app.py
```

3. Перейдите в браузере по адресу [http://localhost:5000](http://localhost:5000)

## Примечание о базах данных

> Файлы базы данных `boxes.db` и миграции лучше **не загружать на GitHub**. Добавьте в `.gitignore`:
```
boxes.db
*.sqlite3
```
